<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Evaluate a model for specified inputs — mod_eval • mosaicModel</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Evaluate a model for specified inputs — mod_eval" />

<meta property="og:description" content="Find the model outputs for specified inputs. This is equivalent to the
generic predict() function, except it will choose sensible values
by default.  This simplifies getting a quick look at model values." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mosaicModel</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.3.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Basics.html">Using mosaicModel</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ProjectMOSAIC/mosaicModel">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Evaluate a model for specified inputs</h1>
    <small class="dont-index">Source: <a href='https://github.com/ProjectMOSAIC/mosaicModel/blob/master/R/mod_eval.R'><code>R/mod_eval.R</code></a></small>
    <div class="hidden name"><code>mod_eval.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Find the model outputs for specified inputs. This is equivalent to the
generic <code>predict()</code> function, except it will choose sensible values
by default.  This simplifies getting a quick look at model values.</p>
    
    </div>

    <pre class="usage"><span class='fu'>mod_eval</span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"none"</span>, <span class='st'>"prediction"</span>, <span class='st'>"confidence"</span>), <span class='kw'>nlevels</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>bootstrap</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='no'>...</span>, <span class='kw'>on_training</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>mod_output</span>(<span class='kw'>model</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>append</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"none"</span>, <span class='st'>"prediction"</span>, <span class='st'>"confidence"</span>), <span class='kw'>nlevels</span> <span class='kw'>=</span> <span class='fl'>2</span>,
  <span class='kw'>bootstrap</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='no'>...</span>, <span class='kw'>on_training</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>the model to display graphically</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>optional set of cases from which to extract levels for explanatory variables</p></td>
    </tr>
    <tr>
      <th>append</th>
      <td><p>flag whether to include the inputs to the model along with the calculated
model value in the output. Default: <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>the type of interval to use: "none", "confidence", "prediction". But not all
types are available for all model architectures. A standard error and 95% confidence interval are produced in the output</p></td>
    </tr>
    <tr>
      <th>nlevels</th>
      <td><p>how many levels to construct for input variables. (default: 3)
For quantitative variables, this is a suggestion; an attempt is made to have the levels equally spaced. If you're dissatisfied
with the result, use  <code>...</code> to specify exactly what levels you want for any variable.</p></td>
    </tr>
    <tr>
      <th>bootstrap</th>
      <td><p>if &gt; 1, the number of bootstrap trials to run to construct a
standard error on the model output for each value of the inputs. This is an alternative to
<code>interval</code>; you can't use both.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments about or values at which to evaluate the model or the kind of output to be passed along to predict().
Unlike <code>data =</code> the variables given in <code>at =</code> or <code>...</code> will be crossed, so that
the evaluation will occur at all combinations of the various levels.</p></td>
    </tr>
    <tr>
      <th>on_training</th>
      <td><p>flag whether to use the training data for evaluation. Only needed
when there are random terms, e.g. from <code>rand()</code>, <code>shuffle()</code>, .... See details.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A dataframe containing both the explanatory variable inputs and
the resulting model output (in the <code>model_value</code> field). This differs from the output
of <code><a href='http://www.rdocumentation.org/packages/stats/topics/predict'>stats::predict()</a></code>, which for many model classes/architectures may be a vector or matrix.</p>
<p>For <code>mod_eval()</code>, a data frame containing both the
inputs to the model and the corresponding outputs. For
<code>mod_output()</code> a vector containing only the model outputs.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There are four distinct ways to specify the values at which the model is to be evaluated.
(1) Look for some "typical values" in the data to create a handful of inputs. This is useful for
getting a quick look at what the output of the model looks like. This is the default behavior. (2) Using <code>data =</code> to a dataframe containing the explanatory variables will evaluate the model
at all of the cases contained in that dataframe. (3) Setting input variables explicitly by using
arguments of the form var_name = values, e.g. <code>sex = "F"</code>. If not all input variables are specified in
this way, the ones that are not will have values set per (1). All combinations of the various variables
will be created. See the <code>nlevels</code> argument. (4) Evaluating the model on the training data.
There are two ways to do this. The first is
to set the <code>data</code> argument to the same data frame used to train the model. The second
is to use the <code>on_training = TRUE</code> argument. These are equivalent unless there is
some random component among the explanatory terms, as with <code><a href='http://www.rdocumentation.org/packages/mosaic/topics/rand'>mosaic::rand()</a></code>, <code><a href='http://www.rdocumentation.org/packages/mosaic/topics/resample'>mosaic::shuffle()</a></code> and so on.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>mod1</span> <span class='kw'>&lt;-</span> <span class='fu'>lm</span>(<span class='no'>wage</span> ~ <span class='no'>age</span> * <span class='no'>sex</span> + <span class='no'>sector</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw pkg'>mosaicData</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/mosaicData/topics/CPS85'>CPS85</a></span>)
<span class='fu'>mod_eval</span>(<span class='no'>mod1</span>)
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='fu'>glm</span>(<span class='no'>married</span> <span class='kw'>==</span> <span class='st'>"Married"</span> ~ <span class='no'>age</span> + <span class='no'>sex</span> * <span class='no'>sector</span>,
            <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw pkg'>mosaicData</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/mosaicData/topics/CPS85'>CPS85</a></span>, <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"binomial"</span>)
<span class='fu'>mod_eval</span>(<span class='no'>mod2</span>, <span class='kw'>nlevels</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='fu'>mod_eval</span>(<span class='no'>mod2</span>, <span class='kw'>nlevels</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>sex</span> <span class='kw'>=</span> <span class='st'>"F"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Kaplan Daniel, Pruim Randall.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

